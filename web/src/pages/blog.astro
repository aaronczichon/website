---
import Layout from '../layouts/Layout.astro';
const allPosts = await Astro.glob('../pages/blog/*.md');

const dateOptions: object = {
	year: "numeric",
	month: "short",
	day: "numeric",
};

---

<Layout title="Aaron Czichon - Blog">
  <main>
    <h1>Blog</h1>
    <p>
      This is my digital garden. <br />
      All thoughts, notes, and ideas are my own and doesn't represents one of my customers or my
      employer.
    </p>
    <div class="entry-grid">
      {allPosts.map((post) => 
        <a href={post.url} class="entry">
        <img src={post.frontmatter.image.url} alt={post.frontmatter.image.alt} />
        <h3>{post.frontmatter.title}<span class="entry--date">{new Date(post.frontmatter.pubDate).toLocaleDateString("en-CA", dateOptions)}</span></h3>
        <p>{post.frontmatter.description}</p>
        </a>
      )}
    </div>
  </main>
</Layout>